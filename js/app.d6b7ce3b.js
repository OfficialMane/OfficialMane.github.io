(function(){"use strict";var e={8060:function(e,t,s){var n=s(9242),a=s(7749),o=s(3494),l=s(8539),r=s(5860),c=s(2483),i=s(3396),u=s(7139),d=s(4870);const p="http://node-env.eba-u2thtivw.eu-west-2.elasticbeanstalk.com/lessons";class v{static getLessons(){return new Promise((async(e,t)=>{try{const t=await fetch(p),s=t.json();e(s)}catch(s){t(s)}}))}static updateLesson(e){return fetch(`${p}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:""})})}}var f=v;const m="http://node-env.eba-u2thtivw.eu-west-2.elasticbeanstalk.com/search/";class b{static getSearchResults(e){return fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputData:e})})}}var h=b;const w="http://node-env.eba-u2thtivw.eu-west-2.elasticbeanstalk.com/orders";class y{static createOrder(e,t,s,n){return fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,phoneNumber:t,lessonId:s,numberOfSpace:n})})}}var _=y;const g=e=>((0,i.dD)("data-v-39b03aa0"),e=e(),(0,i.Cn)(),e),k={class:"d-flex flex-row-reverse p-5"},O={class:"btn btn-lg btn-success",role:"link",disabled:!0},S=g((()=>(0,i._)("span",{class:"mx-2"},"Total price: ",-1))),x={class:"btn btn-lg btn-success mx-2",role:"link",disabled:!0},U={class:"me-auto"},P=g((()=>(0,i._)("span",null," Search Bar : ",-1))),j={class:"container"},T={key:0,class:"err-styling"},C={class:"row row-cols-1 row-cols-lg-2 justify-content-center"},L={class:"card rounded-5"},z={class:"card-body"},H={class:"row"},D={class:"col col-lg-8"},N={class:"list-unstyled"},W=g((()=>(0,i._)("span",{class:"fw-bold"}," Topic: ",-1))),I={class:"text-muted"},R=g((()=>(0,i._)("span",{class:"fw-bold"}," Price: ",-1))),q={class:"text-muted"},F=g((()=>(0,i._)("span",{class:"fw-bold"}," location: ",-1))),J={class:"text-muted"},M=g((()=>(0,i._)("span",{class:"fw-bold"}," Available space: ",-1))),Z={class:"text-muted"},A=g((()=>(0,i._)("div",{class:"col d-flex flex-row-reverse"},[(0,i._)("img",{src:"http://node-env.eba-u2thtivw.eu-west-2.elasticbeanstalk.com/images/calculator.png",class:"img-size",alt:""})],-1))),B={class:"d-flex flex-row-reverse"},E=["onClick"],K={class:"container p-5 mt-5"},V={class:"row"},$={class:"col-md-2 mt-2"},G={class:"form-group"},Y={class:"fs-5"},Q={class:"col"},X={class:"form-group"},ee={class:"col"},te={class:"form-group"},se={class:"col mt-1 ms-4"},ne=["disabled"],ae=g((()=>(0,i._)("span",{class:"mx-2"},"Checkout",-1)));var oe={__name:"LessonPage",setup(e){const t=(0,r.RN)({position:"top",duration:2e3,maxToasts:3});let s=(0,d.iH)(""),a=(0,d.iH)(""),o=(0,d.iH)([]),l=(0,d.iH)(""),c=(0,d.iH)(0),p=(0,d.iH)(0),v=(0,d.iH)("");const m=async e=>{await h.getSearchResults(e.target.value.trim()).then((e=>{e.clone().json().then((e=>{o.value=e}))})).catch((e=>{v.value=e}))},b=async e=>{if(e.space<=0)return void t.show("Lesson not available !!!",{type:"error"});let s=await f.updateLesson(e._id);201==s.status?(p.value+=1,c.value+=e.price,l.value=e._id,o.value=await f.getLessons(),t.show("Item added to cart successfully",{type:"success"})):(v.value="Failed to update data",t.show("Lesson space updation failed",{type:"error"}))},w=async()=>{if(""==s.value)t.show("Please enter your name !!!",{type:"error"});else if(""==a.value)t.show("Please enter your contact number !!!",{type:"error"});else{let e=await _.createOrder(s.value,a.value,l.value,p.value);201==e.status?(s.value="",a.value="",l.value="",p.value=0,c.value=0,t.show("Order placed successfully",{type:"success"})):(v.value="Failed to create order",t.show("Order creation failed",{type:"error"}))}};return(0,i.bv)((async()=>{try{o.value=await f.getLessons()}catch(e){v.value=e.message}})),(e,t)=>{const l=(0,i.up)("fa");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",k,[(0,i._)("button",O,[S,(0,i.Uk)((0,u.zw)((0,d.SU)(c))+" ",1),(0,i.Wm)(l,{icon:"dollar-sign"})]),(0,i._)("button",x,[(0,i.Wm)(l,{icon:"shopping-cart"}),(0,i.Uk)(" "+(0,u.zw)((0,d.SU)(p)),1)]),(0,i._)("div",U,[(0,i.Wm)(l,{icon:"magnifying-glass"}),P,(0,i._)("input",{type:"text",placeholder:"Enter location",onKeyup:m,class:"rounded-5 fs-6 p-2 px-3"},null,32)])]),(0,i._)("div",j,[(0,d.SU)(v)?((0,i.wg)(),(0,i.iD)("h4",T,(0,u.zw)((0,d.SU)(v)),1)):(0,i.kq)("",!0),(0,i._)("div",C,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,d.SU)(o),(e=>((0,i.wg)(),(0,i.iD)("div",{key:e._id,class:"col"},[(0,i._)("div",L,[(0,i._)("div",z,[(0,i._)("div",H,[(0,i._)("div",D,[(0,i._)("ul",N,[(0,i._)("li",null,[W,(0,i.Uk)(),(0,i._)("span",I,(0,u.zw)(e.topic),1)]),(0,i._)("li",null,[R,(0,i.Uk)(),(0,i._)("span",q,(0,u.zw)(e.price),1)]),(0,i._)("li",null,[F,(0,i.Uk)(),(0,i._)("span",J,(0,u.zw)(e.location),1)]),(0,i._)("li",null,[M,(0,i.Uk)(),(0,i._)("span",Z,(0,u.zw)(e.space),1)])])]),A]),(0,i._)("div",B,[(0,i._)("button",{onClick:t=>b(e),class:"btn btn-lg btn-success"},[(0,i.Wm)(l,{icon:"circle-plus"}),(0,i.Uk)(" Add to cart ")],8,E)])])])])))),128))])]),(0,i._)("div",K,[(0,i._)("div",V,[(0,i._)("div",$,[(0,i._)("div",G,[(0,i._)("span",Y,[(0,i.Wm)(l,{icon:"user"}),(0,i.Uk)(" User Information: ")])])]),(0,i._)("div",Q,[(0,i._)("div",X,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control m-2","onUpdate:modelValue":t[0]||(t[0]=e=>(0,d.dq)(s)?s.value=e:s=e),placeholder:"Please enter your name"},null,512),[[n.nr,(0,d.SU)(s)]])])]),(0,i._)("div",ee,[(0,i._)("div",te,[(0,i.wy)((0,i._)("input",{type:"number",class:"form-control m-2","onUpdate:modelValue":t[1]||(t[1]=e=>(0,d.dq)(a)?a.value=e:a=e),placeholder:"Please enter your contact number"},null,512),[[n.nr,(0,d.SU)(a)]])])]),(0,i._)("div",se,[(0,i._)("button",{class:"btn btn-success",onClick:w,role:"link",disabled:0==(0,d.SU)(p)},[ae,(0,i.Uk)(),(0,i.Wm)(l,{icon:"arrow-right-to-bracket"})],8,ne)])])])])}}},le=s(89);const re=(0,le.Z)(oe,[["__scopeId","data-v-39b03aa0"]]);var ce=re;const ie=[{path:"/",name:"LessonPage",component:ce}],ue=(0,c.p7)({history:(0,c.PO)(),routes:ie});var de=ue;function pe(e,t){const s=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(s)}const ve={},fe=(0,le.Z)(ve,[["render",pe]]);var me=fe;s(2166);o.vI.add(l.mRB),(0,n.ri)(me).component("fa",a.GN).use(r.ZP).use(de).mount("#app")}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,n,a,o){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],o=e[u][2];for(var r=!0,c=0;c<n.length;c++)(!1&o||l>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[c])}))?n.splice(c--,1):(r=!1,o<l&&(l=o));if(r){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,l=n[0],r=n[1],c=n[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(c)var u=c(s)}for(t&&t(n);i<l.length;i++)o=l[i],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(8060)}));n=s.O(n)})();
//# sourceMappingURL=app.d6b7ce3b.js.map